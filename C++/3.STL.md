### 字符串

#### ①几种构造函数重载

```cpp
string str1;// 默认构造函数
string str2 = "hello";//// 使用字符串字面值初始化
string str3(str2);// 拷贝构造
string str4(str2,1,4);// 使用部分初始化
string str5(5,'2');// 使用字符串字面值初始化
```

#### ②输出

- String类对象可以直接cout（标准库将<<重载了）
- stl其他容器则不能

```cpp
cout << str1;
```

#### ③读取输入的字符串

- 读取至第一个空格处

```cpp
std::string input;
std::cout << "请输入一个字符串：";
std::cin >> input; // 读取直到第一个空白字符
std::cout << "您输入的字符串是：" << input << std::endl;
```

- 读取包含空格的**整行字符串**
  - `getline()`：**按行读取输入**，直到遇到换行符为止（并把换行符丢掉）

```cpp
std::string line;
std::cout << "请输入一行文本：";
std::getline(std::cin, line);
std::cout << "您输入的文本是：" << line << std::endl;
return 0;
```

#### ④字符串操作

| 操作           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| os<<s          | 将 s 写到输出流 os 当中，返回 os，**os通常为输出流对象**     |
| is>>s          | 从 is 中读取字符串赋给 s，字符串以空白分隔，返回 is，**is通常为输入流对象** |
| getline(is, s) | 从 is 中读取一行赋给 s，返回 is                              |
| s.empty()      | s 为空返回 true，否则返回 false                              |
| s.size()       | 返回 s 中字符的个数                                          |
| s[n]           | 返回 s 中第 n 个字符的引用，位置 n 从 0 计起                 |
| s1+s2          | 返回 s1 和 s2 连接后的结果                                   |
| s1=s2          | 用 s2 的副本代替 s1 中原来的字符                             |
| s1==s2         | 如果 s1 和 s2 中所含的字符完全一样，则它们相等；string 对象的相等性判断对字母的大小写敏感 |
| s1!=s2         | 与 `==` 相反，判断 s1 和 s2 是否不相等，对字母的大小写敏感   |
| <, <=, >, >=   | 利用字符在字典中的顺序进行比较，且对字母的大小写敏感         |

#### ⑤比较运算符

- 长度相同，**逐个位置按字符比较**（比较字符的ASCII码大小）
- 长度不同，逐个位置按字符比较，若短字符串直至结尾每个字符都相同，则判定短字符串 < 长字符串

```cpp
"apple" > "appla";//e>a结束比较
"apple" > "applad";//e>a提前结束比较
"apple" < "appl"//直至短串结尾都相同，短串<长串
```

#### ⑥查找与替换

- `find`：查找一个子串/字符在原字符串中的位置（下标）

```cpp
size_t find(const std::string& str, size_t pos = 0) const;//默认是从下标为0开始查找
size_t find(const char* s, size_t pos = 0) const;
size_t find(char c, size_t pos = 0) const;
```

```cpp
string s1 = "hello";
string s2 = "llo";
int pos = s1.find(s2);
int pos1 = s1.find("ello");
int pos2 = s1.find('l');
int pos3 = s1.find('h',1);
cout << pos3;//-1,因为是从下标为1开始查找，找不到h
```

> -1和string::npos的关系
>
> - find找不到对应下标时，会返回string::npos，如果用size_t接收，即size_t pos = s1.find(s2)，此时pos会是一个很大的数，即无符号数各位全为1，如果用int接收，则会返回-1（补码）

- `replace(pos,n,str)`

```cpp
string text = "I love you";
string from = "you";
string to = "me";

size_t pos = text.find("you");
if (pos != string::npos) {
    text.replace(pos,from.length(),to);//从哪开始，持续几个字符，换成什么内容
}
cout << text;//I love me
```

#### ⑦子串与切片

- `substr(pos,n)`，输出从pos开始，长度为n的子串
- `substr(pos)`，输出从pos至结尾的子串

```cpp
auto str = text.substr(2);
cout << str;
```

#### ⑧常用字符操作

| 函数        | 功能                                                         |
| ----------- | ------------------------------------------------------------ |
| isalnum(c)  | 当 c 是字母或数字时为真                                      |
| isalpha(c)  | 当 c 是字母时为真                                            |
| iscntrl(c)  | 当 c 是控制字符时为真                                        |
| isdigit(c)  | 当 c 是数字时为真                                            |
| isgraph(c)  | 当 c 不是空格但可打印时为真                                  |
| islower(c)  | 当 c 是小写字母时为真                                        |
| isprint(c)  | 当 c 是可打印字符时为真（即 c 是空格或 c 具有可视形式）      |
| ispunct(c)  | 当 c 是标点符号时为真（即 c 不是控制字符、数字、字母、可打印空白中的一种） |
| isspace(c)  | 当 c 是空白时为真（即 c 是空格、横向制表符、纵向制表符、回车符、换行符、进纸符中的一种） |
| isupper(c)  | 当 c 是大写字母时为真                                        |
| isxdigit(c) | 当 c 是十六进制数字时为真                                    |
| tolower(c)  | 如果 c 是大写字母，输出对应的小写字母；否则原样输出 c        |
| toupper(c)  | 如果 c 是小写字母，输出对应的大写字母；否则原样输出 c        |

```cpp
// 其他有用的函数
str.clear(); // 清空字符串内容
str.erase(5, 7); // 从位置5开始，删除7个字符
str.insert(5, ","); // 在指定位置插入字符串或字符
str.find_first_of(); // 查找第一个匹配的字符
str.find_last_of(); // 查找最后一个匹配的字符

string s = "hello world";

size_t pos1 = s.find_first_of("aeiou"); // 查找最后一个元音字母(1)
size_t pos2 = s.find_last_of("abcde");   // 查找最后一个属于 "abcde" 的字符(10) - 字符串s中，最后一个匹配abcde任意一个字符的字符的下标
```

##### ⑨字符串流stringstream
